# ==============================================================================
# DEMETER API - Production Environment (Easypanel)
# ==============================================================================
# Este arquivo contém as variáveis de ambiente para deploy no Easypanel
# Copie e cole estas variáveis na seção Environment Variables do Easypanel
# ==============================================================================

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================

PROJECT_NAME=DEMETER-API
VERSION=1.0.0
DESCRIPTION=API para classificação de grãos com IA
API_V1_STR=/api/v1
ENVIRONMENT=production
DEBUG=false

# ==============================================================================
# DATABASE SETTINGS
# ==============================================================================

# ⚠️ IMPORTANTE: Substitua pelos valores do seu serviço PostgreSQL no Easypanel
# Formato: postgresql+asyncpg://username:password@service-name:5432/database_name
# O service-name deve ser o nome do serviço Postgres que você criou (ex: demeter-db)
DATABASE_URL=postgresql+asyncpg://demeter:SUBSTITUA_SENHA_AQUI@demeter-db:5432/demeter_db
DATABASE_ECHO=false
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# ==============================================================================
# SECURITY & AUTHENTICATION
# ==============================================================================

# ⚠️ CRÍTICO: GERE UMA CHAVE ÚNICA E FORTE!
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=GERE_UMA_CHAVE_SECRETA_FORTE_MINIMO_32_CARACTERES

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==============================================================================
# PASSWORD POLICY
# ==============================================================================

PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true

# ==============================================================================
# CORS SETTINGS
# ==============================================================================

# ⚠️ IMPORTANTE: Configure apenas os domínios que você realmente usa
# Exemplo: https://app.demeter.com,https://admin.demeter.com
ALLOWED_ORIGINS=https://seu-frontend.com
ALLOWED_METHODS=GET,POST,PATCH,DELETE
ALLOWED_HEADERS=Authorization,Content-Type
ALLOW_CREDENTIALS=true

# ==============================================================================
# RATE LIMITING
# ==============================================================================

RATE_LIMIT_LOGIN=5/15minute
RATE_LIMIT_AUTHENTICATED=100/minute
RATE_LIMIT_PUBLIC=20/minute

# ==============================================================================
# LOGGING
# ==============================================================================

LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DIR=/app/logs

# ==============================================================================
# FILE UPLOAD SETTINGS
# ==============================================================================

MAX_UPLOAD_SIZE=10485760
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/jpg
UPLOAD_DIR=/app/uploads

# ==============================================================================
# ADMIN USER - Criado automaticamente na primeira execução
# ==============================================================================

# ⚠️ IMPORTANTE: Altere o email e senha padrão!
ADMIN_EMAIL=admin@demeter.com
ADMIN_NAME=Administrador
ADMIN_PASSWORD=CRIE_UMA_SENHA_FORTE_AQUI!
ADMIN_PHONE=11999999999

# ==============================================================================
# DEMETER ML API SETTINGS
# ==============================================================================

USE_REAL_ML_API=true
DEMETER_ML_API_URL=https://3kgtn4mls7.execute-api.us-east-2.amazonaws.com/upload
DEMETER_ML_TIMEOUT=30.0
ENABLE_ML_FALLBACK_TO_MOCK=false

# ==============================================================================
# SUPABASE SETTINGS (Opcional)
# ==============================================================================

USE_SUPABASE_STORAGE=false
SUPABASE_URL=
SUPABASE_KEY=
SUPABASE_STORAGE_ENDPOINT=
SUPABASE_STORAGE_REGION=sa-east-1
SUPABASE_STORAGE_ACCESS_KEY_ID=
SUPABASE_STORAGE_SECRET_ACCESS_KEY=

# ==============================================================================
# AWS S3 SETTINGS (Opcional)
# ==============================================================================

USE_S3=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=
